<header>
  <%= stylesheet_link_tag "dashboard.css" %>
  <script type="text/javascript">
    setInterval("refresh();", 10000)

      function refresh(){
        location.reload();
      }
  </script>
</header>

<div class="container-bg">
  <div class="container">
    <div class="row title text-center">
      <p id=title-output> <%= microgrid.name %> Power Grid </p>
    </div>
    <div class="d-flex">
      <div class="col">
        <div class="row">
          <div class="border-renew text-center">
            <p id="title-renew"> Wind </p>
            <p id="energy"> <%= microgrid.wind %> kW </p>
            <div class="percent">
              <p>
                <filter id="symbol-renew">
                <%= image_tag "input_symbols/Wind_Symbol.png", height: 25 %>
                </filter>
                &nbsp;
                <%= ((microgrid.wind / microgrid.total_load.to_d) * 100).round(2) %> %
              </p>
            </div>
          </div>
        </div>

        <div class="row"><br></div>

        <div class="row">
          <div class="border-diesel text-center">
            <p id="title-diesel"> Diesel </p>
            <p id="energy"> <%= microgrid.diesel %> kW </p>
            <div class="percent">
              <p>
                <filter id="symbol-diesel">
                  <%= image_tag "input_symbols/Diesel_Symbol.png", height: 25 %>
                </filter>
                &nbsp;
                <%= ((microgrid.diesel / microgrid.total_load.to_d) * 100).round(2) %> %
              </p>
            </div>
          </div>
        </div>
      </div>
      <div class="col text-center">
        <p>
        <div class="img-fluid">
          <%= image_tag "Arrows_Small.png", height: 300 %>
        </div>
        </p>
      </div>
      <div class="col">
        <div class="row">
          <div class="border-renew text-center">
            <p id="title-renew"> Solar </p>
            <p id="energy"> <%= microgrid.solar %> kW </p>
            <div class="percent">
              <p>
                <filter id="symbol-renew">
                  <%= image_tag "input_symbols/Solar_Symbol.png", height: 25 %>
                </filter>
                <%= ((microgrid.solar / microgrid.total_load.to_d) * 100).round(2) %> %
              </p>
            </div>
          </div>
        </div>
        <div class="row"><br></div>
        <div class="row">
          <div class="border-battery text-center">
            <p id="title-battery"> Battery </p>
            <p id="energy"> <%= microgrid.battery %> kW </p>
            <div class="percent">
              <p>
                <filter id="symbol-battery">
                  <%= image_tag "input_symbols/Battery_Symbol.png", height: 25 %>
                </filter>
                &nbsp;
                <% temp = ((microgrid.battery / microgrid.total_load.to_d) * 100).round(2) %>
                <% if temp < 0 %>
                  <%= 0.0 %>
                <% else %>
                  <%= temp %>
                <% end %>
                  %
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="row output text-center">
      <div class="col">
        <div class="border-output">
          <p id="title-output"> Output </p>
          <p id="energy"> <%= microgrid.total_load %> kW </p>
          <p id="percentage"> 100% </p>
        </div>
      </div>
    </div>
  </div>
</div>